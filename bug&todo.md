# Bug å’Œ todolist

## Short term

- keyboard æ“ä½œ, ç±»ä¼¼ä¸èƒŒ
- ç»“å°¾çš„ bug

## Medium term

- éšæœºèƒŒå•è¯
- ä¼˜åŒ–å¸ƒå±€ï¼Œä¹Ÿè®¸å…ˆç”¨ iPad ç”»ä¸€ä¸‹ï¼Ÿæˆ–è€… figmaï¼Ÿ
- åƒä¸èƒŒä¸€æ ·, ç”¨æˆ·åœ¨ç­”å¯¹ä¹‹åèƒ½å¤Ÿæœ‰æ­£åé¦ˆ, ä¾‹å¦‚é—ªå¡èƒŒé¢æ˜¯ç»¿è‰²çš„ã€æœ‰åŠ¨æ•ˆä¹‹ç±»çš„; æˆ–è€…å¯ä»¥çœ‹åˆ°è®°å¿†æ¬¡æ•°å˜å¤š(è¿™ä¸ªä¹Ÿå¯ä»¥åŠ åŠ¨æ•ˆ! å¼ºè°ƒæ­£åé¦ˆ). è‡³äºæ‰“é”™ä¹‹å, å°±ä¸ç®¡äº†, å°±å½“æ˜¯æ²¡æœ‰è´Ÿåé¦ˆäº†å“ˆå“ˆå“ˆå“ˆ ğŸ˜‚
- åƒä¸èƒŒä¸€æ ·è¦æ±‚å¬å†™, æ‹¼å†™
- å¢åŠ è®°ç¬”è®°çš„åŠŸèƒ½

## Long term

- åƒ Cling ä¸€æ ·, å¢åŠ  AI å¸®åŠ©è§£é‡Šå•è¯ã€ç”¨æ•…äº‹è®²å•è¯ç­‰ä¸ªæ€§åŒ–çš„å¸®åŠ©è‡ªç„¶åœ°è®°å¿†å•è¯çš„èƒ½åŠ›
  - ç”šè‡³å¯ä»¥æ¨¡ä»¿è–„è·é˜…è¯»,ç›´æ¥è®© AI ç”Ÿæˆå‡ ç¯‡å¸¦æœ‰è¿™äº›è¯çš„æ–‡ç« , ä¸”åŒ¹é…ç”¨æˆ·é˜…è¯»æ°´å¹³(è®©ç”¨æˆ·è¾“å…¥è¯æ±‡é‡+è“æ€å€¼), ç”šè‡³æœ‰æœ›ä¿ƒè¿›ç”¨æˆ·é˜…è¯»æ°´å¹³

---

---

è¿™ä¸ªé¡¹ç›®çš„éšæœºèµ·å§‹å•è¯å®ç°ä¸»è¦ä¾èµ–äºä¸¤ä¸ªå…³é”®å‡½æ•°ï¼š

1. æ•°ç»„æ´—ç‰Œç®—æ³• ï¼šé€šè¿‡ shuffleArray å‡½æ•°å®ç° Fisher-Yates æ´—ç‰Œç®—æ³•
2. æ‰¹æ¬¡åˆå§‹åŒ– ï¼šåœ¨ initCurrentBatch å‡½æ•°ä¸­è°ƒç”¨æ´—ç‰Œå‡½æ•°
   å…·ä½“å®ç°ä»£ç æ®µå¦‚ä¸‹ï¼š

```javascript
/**
 * æ‰“ä¹±æ•°ç»„é¡ºåº
 * @param {Array} array - éœ€è¦æ‰“ä¹±é¡ºåºçš„æ•°ç»„
 */
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

/**
 * åˆå§‹åŒ–å½“å‰æ‰¹æ¬¡æ± 
 */
function initCurrentBatch() {
  // ... å…¶ä»–åˆå§‹åŒ–ä»£ç  ...

  // ä»åŸå§‹è¯åº“ä¸­ç­›é€‰æœªå®Œæˆè®°å¿†çš„å•è¯ï¼ˆè®°å¿†æ¬¡æ•°<4ï¼‰
  wordList.forEach((word) => {
    if (word.memoryCount < 4) {
      currentBatchPool.push({ ...word });
    }
  });

  // æ‰“ä¹±é¡ºåºï¼ˆæ ¸å¿ƒéšæœºåŒ–ä»£ç ï¼‰
  shuffleArray(currentBatchPool);

  // ... åç»­ä»£ç  ...
}
```

å®ç°åŸç†è¯´æ˜ï¼š

1. æ¯æ¬¡åˆå§‹åŒ–æ‰¹æ¬¡æ± æ—¶ï¼Œä¼šç­›é€‰å‡ºéœ€è¦è®°å¿†çš„å•è¯
2. ä½¿ç”¨ Fisher-Yates ç®—æ³•å¯¹æ‰¹æ¬¡æ± è¿›è¡Œéšæœºæ´—ç‰Œï¼Œè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œä¸”ä¿è¯æ¯ä¸ªæ’åˆ—å‡ºç°çš„æ¦‚ç‡ç›¸ç­‰
3. æ´—ç‰Œåçš„æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ å³ä¸ºéšæœºèµ·å§‹å•è¯
4. åœ¨ showNextCard å‡½æ•°ä¸­ï¼Œé€šè¿‡ currentCardIndex ç´¢å¼•è®¿é—®æ´—ç‰Œåçš„æ•°ç»„å…ƒç´ 
   è¿™ç§å®ç°æ–¹å¼ç¡®ä¿äº†ï¼š

- æ¯æ¬¡å­¦ä¹ ä¼šè¯éƒ½ä¼šç”Ÿæˆæ–°çš„éšæœºé¡ºåº
- ç›¸åŒè®°å¿†çŠ¶æ€çš„å•è¯åœ¨ä¸åŒå­¦ä¹ ä¼šè¯ä¸­ä¼šä»¥ä¸åŒé¡ºåºå‡ºç°
- èµ·å§‹å•è¯çš„å®Œå…¨éšæœºæ€§